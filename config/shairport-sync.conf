// shairport-sync configuration for snapMULTI
// Pipe backend outputs raw audio to a named FIFO for Snapserver

general = {
  name = "%H AirPlay";  // %H = hostname
  output_backend = "pipe";
  output_format = "S16";      // 16-bit signed little-endian
  output_rate = 44100;        // Must match snapserver sampleformat
};

pipe = {
  name = "/audio/airplay_fifo";
};

metadata = {
  enabled = "yes";
  include_cover_art = "yes";
  pipe_name = "/audio/shairport-metadata";  // shared volume with snapserver
  pipe_timeout = 5000;  // ms to wait for pipe reader
};
